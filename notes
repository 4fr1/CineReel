TODO:
- check if list/grid views load next page and fix if not - DONE
- remember position between list/grid view
- add tests for list/grid

- load list movie posters from ImageLoader
- move ImageHelper's method into ImageLoader?




//////////////////////////////////////////////////////////////////////
In movie_bloc_test the following tests didn't work as expected. Need to revisit them

	test('makes correct api call for now playing bloc', () {
		final mockTMDBApi = MockTMDBApi();
		setNowPlayingResults(mockTMDBApi);

		final bloc = NowPlayingBloc(mockTMDBApi);

		expect(bloc.stream, emitsInOrder([LoadingState, PopulatedState]));
		verify(mockTMDBApi.nowPlayingMovies(page: 1));
	});

	test('makes correct api call for popular bloc', () {
		MockTMDBApi mockTMDBApi = MockTMDBApi();
		PopularBloc(mockTMDBApi);
		setEmptyPopularResults(mockTMDBApi);

		verify(mockTMDBApi.popularMovies(page: 1));
	});

	test('makes correct api call for top rated bloc', () {
		MockTMDBApi mockTMDBApi = MockTMDBApi();
		TopRatedBloc(mockTMDBApi);
		setEmptyTopRatedResults(mockTMDBApi);

		verify(mockTMDBApi.topRated(page: 1));
	});



//	test('closes the stream on dispose', () {
//		scheduleMicrotask(() {
//			nowPlayingBloc.dispose();
//		});
//		expect(nowPlayingBloc.stream, emitsInOrder([EmptyState, emitsDone]));
//	});

//////////////////////////////////////////////////////////////////////